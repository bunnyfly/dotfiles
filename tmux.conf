set -g history-limit 10000
set -s escape-time 0 
set default-path "~"
# Powerline Status Bar
source '/usr/local/google/home/chloeadeline/.vim/bundle/powerline/powerline/bindings/tmux/powerline.conf'

# Vi-Mode
set-window-option -g mode-keys vi
set -g status-keys vi


##############################
# KEY BINDINGS
##############################

# Prefix
unbind C-b ; unbind-key l
set -g prefix C-a
set -g prefix2 C-A
bind-key C-a last-window

# Swap ; and :
unbind-key \; ; unbind-key :
bind-key \; command-prompt
bind-key : last-pane

unbind-key ]
bind-key p paste-buffer
bind-key R refresh-client


##############################
# KEY BINDINGS - WINDOWS
##############################
bind-key c new-window
bind-key C set default-path "" \; new-window \; set default-path "~"

# Colemak Select Window: h, i
unbind-key n # next-window
unbind-key Tab # next-window
unbind-key p # previous-window
bind-key i next-window
bind-key h previous-window

# Split Window: s, S
unbind-key s # chose-tree
unbind-key '"' # split-window
unbind-key % # split-window -h
bind-key s split-window
bind-key S split-window -h

unbind-key C-o ; unbind-key r
bind-key r rotate-window

# Unused Bindings
unbind-key q # display-panes
unbind-key t # clock-mode
unbind-key u # select-layout -u
unbind-key '~' # show-messages


##############################
# KEY BINDINGS - PANES
##############################

# More Vim-like
unbind-key x # confirm-before -p "Quit pane #P? (y/n)" kill-pane
bind-key q confirm-before -p "Quit pane #P? (y/n)" kill-pane

# Colemak Select Pane: H, N, E, I
unbind-key Up ; unbind-key Down ; unbind-key Left ; unbind-key Right
bind-key H select-pane -L
bind-key N select-pane -D
bind-key E select-pane -U
bind-key I select-pane -R

# Colemak Resize Pane: C-H, C-N, C-E, C-I
unbind-key M-Left ; unbind-key M-Down ; unbind-key M-Up ; unbind-key M-Right
unbind-key C-Left ; unbind-key C-Down ; unbind-key C-Up ; unbind-key C-Right
bind-key C-H resize-pane -L 5
bind-key C-N resize-pane -D 5
bind-key C-E resize-pane -U 5
bind-key C-I resize-pane -R 5


##############################
# KEY BINDINGS - VI-COPY MODE
##############################

# More Vim-like
unbind-key [ # copy-mode
unbind-key Space # begin-selection
unbind-key Enter # copy-selection
bind-key Space copy-mode
bind-key -t vi-copy v begin-selection
bind-key -t vi-copy c-v rectangle-toggle
bind-key -t vi-copy y copy-selection

# Colemak Keys
bind-key -t vi-copy n cursor-down
bind-key -t vi-copy e cursor-up
bind-key -t vi-copy i cursor-right
bind-key -t vi-copy k search-again
bind-key -t vi-copy K search-reverse
bind-key -t vi-copy l start-of-line
bind-key -t vi-copy L end-of-line
bind-key -t vi-copy j next-word-end
bind-key -t vi-copy J next-space-end
bind-key -t vi-copy c-n bottom-line
bind-key -t vi-copy c-m middle-line
bind-key -t vi-copy c-e top-line


##############################
# KEY BINDINGS - VI-CHOICE MODE
##############################

# Colemak
unbind-key -t vi-choice j # down
unbind-key -t vi-choice k # up
bind-key -t vi-choice n down
bind-key -t vi-choice e up
#bind-key -t vi-choice h tree-collapse
#bind-key -t vi-choice i tree-expand

bind-key -t vi-choice o choose


##############################
# KEY BINDINGS - VI-EDIT MODE
##############################

# Colemak
unbind-key -ct vi-edit j # history-down
unbind-key -ct vi-edit k # history-up
unbind-key -ct vi-edit l # cursor-right
unbind-key -ct vi-edit e # next-word-end
unbind-key -ct vi-edit E # next-space-end
unbind-key -ct vi-edit i # switch-mode
#unbind-key -ct vi-edit I # switch-mode-begin-line
bind-key -ct vi-edit n history-down
bind-key -ct vi-edit e history-up
bind-key -ct vi-edit s switch-mode
#bind-key -ct vi-edit S switch-mode-begin-line
bind-key -ct vi-edit l start-of-line
bind-key -ct vi-edit L end-of-line
bind-key -ct vi-edit j next-word-end
bind-key -ct vi-edit J next-space-end

# TODO: M-i ; M-p
